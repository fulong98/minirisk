# 任务文档 - MiniRisk 项目

## 1. 项目概述

MiniRisk 是一个用于监控和管理金融风险的 Web 应用程序。它包含一个 Go 语言编写的后端 API 和一个 React 构建的前端用户界面。

## 2. 需求

### 2.1 功能需求

*   **后端 API:**
    *   提供 RESTful API 端点用于获取和管理数据。
    *   处理市场数据。
    *   计算和管理保证金 (Margin)。
    *   跟踪头寸 (Positions)。
    *   连接和操作数据库。
    *   实现必要的中间件（例如，日志、认证 - 如果需要）。
*   **前端 UI:**
    *   展示仪表盘 (Dashboard) 概览。
    *   显示保证金相关信息。
    *   显示头寸列表和详情。
    *   与后端 API 交互获取和展示数据。
    *   提供用户友好的界面布局。
*   **数据库:**
    *   存储市场数据、保证金信息、头寸等。
    *   支持数据库迁移。
*   **部署:**
    *   使用 Docker 进行容器化部署 (前后端分离)。
    *   通过 `docker-compose` 编排服务。

### 2.2 非功能需求

*   **性能:** 系统应能高效处理数据和响应用户请求。
*   **可维护性:** 代码结构清晰，易于理解和修改。
*   **可扩展性:** 架构应支持未来功能的扩展。
*   **日志记录:** 记录关键操作和错误，便于调试和监控。

## 3. 整体规划

1.  **环境搭建:**
    *   配置开发环境。
    *   设置 Docker 和 `docker-compose`。
    *   初始化数据库。
2.  **后端开发:**
    *   定义数据模型 (Models)。
    *   实现数据库配置和连接。
    *   开发核心服务逻辑 (Services: Margin, Market Data, Positions)。
    *   创建 API 路由和处理程序 (API Setup)。
    *   实现中间件 (Middleware)。
    *   编写单元测试和集成测试。
3.  **前端开发:**
    *   搭建 React 项目结构。
    *   创建 UI 组件 (Components)。
    *   实现页面路由 (Pages: Dashboard, Margin, Positions)。
    *   开发状态管理逻辑 (Contexts: MarginContext)。
    *   实现与后端 API 的交互 (Services)。
    *   编写前端测试。
4.  **数据库设计与迁移:**
    *   设计数据库表结构。
    *   编写数据库迁移脚本。
5.  **集成与测试:**
    *   前后端联调测试。
    *   端到端测试。
6.  **文档编写:**
    *   编写 API 文档。
    *   完善 README 和其他项目文档。
7.  **部署:**
    *   构建 Docker 镜像。
    *   配置 `docker-compose.yml`。
    *   部署到目标环境。
